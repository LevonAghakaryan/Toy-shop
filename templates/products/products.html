{% extends "base.html" %}

{% block title %}FreshMarket | Մեր Տեսականին{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto px-6 py-10">

    <header class="w-full text-center mb-10 p-6 bg-white shadow-xl rounded-xl border border-gray-100">
        <h1 class="text-4xl sm:text-5xl font-extrabold text-indigo-700 mb-2">Մեր տեսականին</h1>
        <p class="text-lg sm:text-xl text-gray-600">Բացահայտե՛ք մեր բարձրորակ ապրանքների ամբողջական մենյուն։</p>
    </header>

    <div class="w-full mb-8 flex flex-col sm:flex-row justify-between items-center gap-4">

        {# Կատեգորիայի զտիչների տարածքը #}
        <div id="category-filters" class="flex flex-wrap gap-2 text-sm">
            <button id="filter-all" data-category-id="0"
                    class="filter-btn px-4 py-2 bg-indigo-600 text-white font-semibold rounded-full shadow-md transition-all hover:bg-indigo-700">
                Բոլորը
            </button>
            <p id="categories-loading-message" class="text-gray-500 self-center hidden">Կատեգորիաները բեռնվում են...</p>
            {# Մյուս կոճակները կավելացվեն JS-ի միջոցով #}
        </div>

        {# Կոչ գործողության (CTA) կոճակը #}
        <a href="/products/create_product"
            class="px-5 py-2 whitespace-nowrap bg-indigo-600 text-white font-semibold rounded-lg shadow-lg hover:bg-indigo-700 transition-colors duration-300 transform hover:scale-[1.02]">
            + Ավելացնել Նոր Ապրանք
        </a>
    </div>

    <main class="w-full">
        {# Այս div-ի մեջ կտեղադրվեն ապրանքի քարտերը #}
        <div id="products-list"
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 min-h-[300px]">
            </div>

        {# Կարգավիճակի հաղորդագրությունները #}
        <p id="loading-message" class="text-center text-gray-500 mt-10 text-xl">Ապրանքները բեռնվում են...</p>
        <p id="error-message" class="text-center text-red-500 mt-10 text-xl hidden">Տվյալները բեռնելիս սխալ է առաջացել։</p>
    </main>
</div>
{% endblock %}

{# Բեռնում ենք JavaScript ֆայլերը #}
{% block extra_js %}
    <script src="{{ url_for('static', path='js/product_filters.js') }}"></script>
    <script src="{{ url_for('static', path='js/cart_manager.js') }}"></script>
{% endblock %}
<header class="fixed top-0 left-0 w-full z-50 bg-gray-900 shadow-xl">
    <div class="flex items-center justify-between px-6 py-4 border-b border-gray-700 max-w-7xl mx-auto w-full">
        <div class="flex items-center space-x-2">
            <div class="w-10 h-10 rounded-full bg-indigo-500"></div>
            <span class="text-xl font-bold text-white">ToyLand üß∏</span>
        </div>

        <nav class="hidden md:flex items-center space-x-8">
            <a href="/" class="text-gray-300 hover:text-white font-medium transition-colors">‘≥’¨’≠’°’æ’∏÷Ä</a>
            <a href="/products/all_products" class="text-gray-300 hover:text-white font-medium transition-colors">‘Ω’°’≤’°’¨’´÷Ñ’∂’•÷Ä</a>
            <a href="/kap" class="text-gray-300 hover:text-white font-medium transition-colors">‘ø’°’∫</a>
            <a href="/aboutus" class="text-gray-300 hover:text-white font-medium transition-colors">’Ñ’•÷Ä ’¥’°’Ω’´’∂</a>
            <a href="/blog" class="text-gray-300 hover:text-white font-medium transition-colors">‘≤’¨’∏’£</a>
            <a href="/akcianer" class="text-gray-300 hover:text-white font-medium transition-colors">‘∂’•’≤’π’•÷Ä</a>

            {% if user %}
                <div class="flex items-center space-x-4 border-l pl-4 border-gray-200">
                    <span class="font-semibold text-indigo-700 whitespace-nowrap">{{ user.username or user.email }}</span>

                    <button id="logout-button"
                        class="px-3 py-2 text-white bg-indigo-600 font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition-colors duration-300">
                        ‚û°Ô∏è ‘¥’∏÷Ç÷Ä’Ω ’£’°’¨
                    </button>
                </div>
            {% else %}
                <div class="flex items-center space-x-4 border-l pl-4 border-gray-200">
                    <a href="/login"
                        class="px-3 py-2 text-indigo-600 font-semibold rounded-lg hover:bg-indigo-50 transition-colors duration-300 border border-indigo-600 hover:border-indigo-700 whitespace-nowrap">
                        ’Ñ’∏÷Ç’ø÷Ñ
                    </a>
                    <a href="/register"
                        class="px-3 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition-colors duration-300 whitespace-nowrap">
                        ‘≥÷Ä’°’∂÷Å’æ’•’¨
                    </a>
                </div>
            {% endif %}
                <a href="/cart"
                class="px-5 py-2 ml-4 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition-colors duration-300 whitespace-nowrap relative">
                ‘≥’∂’∏÷Ç’¥’∂’•÷Ä
                <span id="cart-item-count"
                      class="absolute -top-2 -right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full hidden">0</span>
                </a>
        </nav>

        <button id="mobile-menu-button" class="md:hidden text-gray-300 hover:text-white">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
        </button>
    </div>


</header>

<script>
    // ‘±’∏÷Ç’ø’•’∂’ø’´÷Ü’´’Ø’°÷Å’´’∏’∂ ÷Ü’∏÷Ç’∂’Ø÷Å’´’°’∂’•÷Ä’® ’°’∑’≠’°’ø’∏÷Ç’¥ ’•’∂ ’¢’∏’¨’∏÷Ä ’ß’ª’•÷Ä’∏÷Ç’¥
    document.addEventListener('DOMContentLoaded', () => {
        const logoutButton = document.getElementById('logout-button');
        if (logoutButton) {
            logoutButton.addEventListener('click', async () => {
                try {
                    // ’à÷Ç’≤’°÷Ä’Ø’∏÷Ç’¥ ’•’∂÷Ñ POST ’∞’°÷Ä÷Å’∏÷Ç’¥ ’§’∏÷Ç÷Ä’Ω ’£’°’¨’∏÷Ç endpoint-’´’∂
                    const response = await fetch('/users/logout', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    });

                    if (response.ok) {
                        // ’Ä’°’ª’∏’≤ ’§’∏÷Ç÷Ä’Ω ’£’°’¨’∏÷Ç÷Å ’∞’•’ø’∏ ’æ’•÷Ä’°’∞’≤’∏÷Ç’¥ ’•’∂÷Ñ ’£’¨’≠’°’æ’∏÷Ä ’ß’ª ’Ø’°’¥ ’¥’∏÷Ç’ø÷Ñ’´ ’ß’ª
                        window.location.href = '/login?logged_out=true';
                    } else {
                        console.error('Logout failed:', await response.json());
                        alert('’ç’≠’°’¨ ’§’∏÷Ç÷Ä’Ω ’£’°’¨’∏÷Ç ’™’°’¥’°’∂’°’Ø÷â ‘Ω’∂’§÷Ä’∏÷Ç’¥ ’•’∂÷Ñ, ÷É’∏÷Ä’±’•’¨ ’Ø÷Ä’Ø’´’∂÷â');
                    }
                } catch (error) {
                    console.error('Network error during logout:', error);
                    alert('’ë’°’∂÷Å’°’µ’´’∂ ’Ω’≠’°’¨÷â');
                }
            });
        }
    });
</script>